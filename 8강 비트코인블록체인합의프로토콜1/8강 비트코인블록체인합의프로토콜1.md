# 제8강 비트코인블록체인합의프로토콜1

### 비트코인 시스템의 특징

- 인터넷 상의 익명 기반 P2P 시스템
  - 누구나 참여할 수 있는 완전 개방 시스템
  - 특정 기능을 특정 기관에 의존하지 않은 P2P시스템
  - 참여자의 신원을 확인하지 않는 익명 시스템
  - 지연시간이 가변적인 P2P 네트워크 기반의 비동기 시스템



### 비트코인 블록 채굴

- 블록 채굴과 거래 승인
  - 정해진 구간 동안 발생한 거래들을 검증한 후 순서대로 블록에 저장하고 블록체인에 연결하는 방법
  - 블록체인에 연결된 블록에 포함된 거래는 승인된 것으로 간주
- 블록 채굴자
  - 비트코인 참여자는 누구나 채굴자로 참여 가능



### 비트코인에서 합의 문제

- 블록 합의 문제
  - 모든 채굴자가 10분 마다 생성되는 블록의 내용(순서화된 거래 집합)에 대해 합의로 승인하고
  - 승인된 블록을 블록체인에 연결하여 동기화된 블록체인으로 유지하여
  - 모든 참여자가 동일한 블록체인으로 거래를 수행할 수 있도록 만드는 문제
- 블록 합의의 전제 조건
  - 자발적인 채굴자의 참여를 유도할 수 있어야 한다.
  - 블록체인에 추가되는 승인된 블록은 정직한 채굴자에 의해 생성된 것이어야 한다.
  - 합의 작업이 특정 참여자에 의해 제어될 수 없도록 충분히 분산되어야 한다.
  - 분산된 블록체인은 충분히 동기화된 상태로 유지되어야 한다.



### 비트코인의 합의 문제의 어려움

- 명시적인 합의 메커니즘(투표, 정해진 순서에 의한 블록 승인 등) 적용의 어려움
  - 익명성
  - Sybil 공격 가능성
  - P2P 네트워크의 불안전성



### 비트코인의 합의 알고리즘

- 묵시적인 합의 알고리즘 채택
  - 채굴자가 최선을 다해 합의 규칙에 따라 채굴 작업에 열중하다 보면 블록 승인의 합의에 도달하고 블록체인이 충분히 동기화된 상태로 유지되며 자신에게 이익이 되는 구조
  - 합의 규칙을 따르지 않으면 자신에게 손해가 되는 구조



### 비트코인의 분산 합의 정책

- 비트코인의 합의 정책 고려 사항
  - 자발적인 참여 유도
  - 충분한 분산성 유지
  - 적합한 블록 생성
  - 동기화된 블록체인 유지
- 인센티브 정책
  - 최종적으로 승인된 블록을 생성한 채굴자는 블록 보상과 거래 수수료를 인센티브로 지급받는다.
  - 중도에 블록 승인이 취소(거절)되면 블록 인센티브도 취소된다.
- 작업 증명 정책